<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Predictive Maintenance Dashboard (Static)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-2.26.1.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
      <nav class="navbar fixed-top navbar-dark custom-navbar">
        <div class="container-fluid d-flex align-items-center justify-content-between">
          <div class="d-flex align-items-center">
            <img src="../../blue_logo.png" alt="logo" id="top-logo"/>
          </div>
          <ul class="nav nav-pills nav-wide">
            <li class="nav-item"><a class="nav-link active" href="#" data-page="Overview">Overview</a></li>
            <li class="nav-item"><a class="nav-link" href="#" data-page="Machine Health">Machine Health</a></li>
            <li class="nav-item"><a class="nav-link" href="#" data-page="Forecast">Forecast</a></li>
            <li class="nav-item"><a class="nav-link" href="#" data-page="Cost Analysis">Cost Analysis</a></li>
            <li class="nav-item"><a class="nav-link" href="#" data-page="Historical Trends">Historical Trends</a></li>
          </ul>
        </div>
      </nav>
      <!-- Header line under navbar -->
          <h1 class="header-title" style="font-size:xx-large;">Dashboard</h2>

    <main class="container-fluid mt-4">
      <!-- Overview -->
      <section id="Overview" class="page">
        <div class="row mb-4">
          <div class="col-md-3 mb-3">
            <div class="metric card">
              <div class="metric-label">Total Machines</div>
              <div class="metric-value" id="total-machines-val">--</div>
            </div>
          </div>
          <div class="col-md-3 mb-3">
            <div class="metric card">
              <div class="metric-label">Critical Machines</div>
              <div class="metric-value" id="critical-machines-val">--</div>
            </div>
          </div>
          <div class="col-md-3 mb-3">
            <div class="metric card">
              <div class="metric-label">Net Savings</div>
              <div class="metric-value" id="net-savings-val">--</div>
            </div>
          </div>
          <div class="col-md-3 mb-3">
            <div class="metric card">
              <div class="metric-label">High-Risk Machines</div>
              <div class="metric-value" id="high-risk-val">--</div>
            </div>
          </div>
        </div>

        <div class="row mt-4">
          <div class="col-md-6 mb-4">
            <div class="card chart-card">
              <div class="chart-title">Health Score Distribution</div>
              <div id="histogram" class="chart-container"></div>
            </div>
          </div>
          <div class="col-md-6 mb-4">
            <div class="card chart-card">
              <div class="chart-title">Machine Status Distribution</div>
              <div id="status-pie" class="chart-container"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Machine Health -->
      <section id="Machine Health" class="page d-none">
        <div class="row mb-3">
          <div class="col-md-3">
            <label><strong>Select Assembly Line</strong></label>
            <select id="assembly-line-select" class="form-select"></select>
          </div>
        </div>
        
        <!-- Machine list -->
        <div class="row mb-4">
          <div class="col-md-12">
            <h5 class="mb-3">Available Machines</h5>
            <div id="machine-list" class="machine-list"></div>
          </div>
        </div>
      </section>

      <!-- Forecast (maintenance Gantt) -->
      <section id="Forecast" class="page d-none">
        <div class="d-flex align-items-center justify-content-between mb-3">
          <h4 class="mb-0">Maintenance Forecast / History</h4>
          <div>
            <label class="me-2"><strong>Assembly Line</strong></label>
            <select id="forecast-assembly-select" class="form-select d-inline-block" style="width:180px"></select>
          </div>
        </div>
        <div id="maintenance-gantt" class="card p-3"></div>
      </section>

      <!-- Cost Analysis -->
      <section id="Cost Analysis" class="page d-none">
        <div class="row">
          <div class="col-md-6 card p-3">
            <h5>Costs</h5>
            <label>Preventive Maintenance Cost ($)</label>
            <input id="maintenance-cost" type="number" class="form-control" value="2000" />
            <label class="mt-2">False Alarm Cost ($)</label>
            <input id="false-alarm-cost" type="number" class="form-control" value="500" />
            <label class="mt-2">System Cost ($)</label>
            <input id="system-cost" type="number" class="form-control" value="50000" />
          </div>
          <div class="col-md-6 card p-3">
            <h5>Benefits</h5>
            <label>Avoided Downtime Cost ($)</label>
            <input id="avoided-downtime" type="number" class="form-control" value="50000" />
            <label class="mt-2">Avoided Repair Cost ($)</label>
            <input id="avoided-repair" type="number" class="form-control" value="20000" />
            <label class="mt-2">Production Saved ($)</label>
            <input id="production-saved" type="number" class="form-control" value="30000" />
          </div>
        </div>
        <div class="row mt-3"><div class="col-12" id="cost-chart" class="card p-3"></div></div>
      </section>

      <!-- Historical Trends -->
      <section id="Historical Trends" class="page d-none">
        <div id="trends-chart" class="card p-3 mb-3"></div>
        <div id="pred-vs-actual" class="card p-3"></div>
      </section>
    </main>

    <!-- Machine Details Modal -->
    <div id="machineModal" class="modal-overlay d-none" onclick="if(event.target===this) closeMachineModal()">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="modal-machine-id">Machine Details</h3>
          <button class="modal-close" onclick="closeMachineModal()">&times;</button>
        </div>
        <div class="modal-body">
          <div class="row mb-4">
            <div class="col-md-6">
              <div id="modal-machine-info"></div>
            </div>
            <div class="col-md-6">
              <div id="modal-machine-chart" class="chart-container"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
